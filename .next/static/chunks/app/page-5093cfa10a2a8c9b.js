(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{358:function(e,t,a){Promise.resolve().then(a.bind(a,6090))},6090:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ev}});var r,l,s=a(7437),n=a(2265),i=a(3810),o=e=>{let{formData:t,onFormChange:a,validationErrors:r=[]}=e,[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),m=(0,n.useRef)(null),p=(0,n.useRef)(!1),x=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.log("Updating location to:",e,"skipSearch:",t),a({location:e}),t||p.current){console.log("Skipping search - value selected from suggestions");return}if(m.current&&clearTimeout(m.current),e.length<3){i([]),c(!1);return}m.current=setTimeout(async()=>{u(!0);try{let t=await fetch("https://nominatim.openstreetmap.org/search?"+"q=".concat(encodeURIComponent(e))+"&format=json&limit=5&addressdetails=1&accept-language=en",{headers:{"User-Agent":"Hylo Travel Itinerary App"}});if(t.ok){let e=await t.json();console.log("Got suggestions:",e),i(e),c(e.length>0)}}catch(e){console.error("Failed to fetch location suggestions:",e)}finally{u(!1)}},300)},[a]),h=(0,n.useCallback)(e=>{console.log("Selected suggestion:",e.display_name),p.current=!0,i([]),c(!1),x(e.display_name,!0),setTimeout(()=>{p.current=!1},100)},[x]),b=r.length>0;return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(b?"border-red-500":"border-gray-200"," relative"),children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-4 font-raleway",children:"LOCATION(S)"}),(0,s.jsxs)("div",{className:"space-y-2 relative",children:[(0,s.jsx)("input",{type:"text",placeholder:'Example: "New York", "Thailand", "Spain and Portugal"',value:t.location||"",onChange:e=>x(e.target.value),onFocus:()=>{l.length>0&&c(!0)},onBlur:()=>{setTimeout(()=>c(!1),200)},className:"w-full px-4 py-3 border-3 rounded-[10px] focus:ring-2 focus:border-primary transition-all duration-200 bg-white placeholder-gray-500 font-bold font-raleway text-base border-primary focus:ring-primary text-primary","aria-label":"Trip location",autoComplete:"off"}),o&&l.length>0&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border-3 border-primary rounded-[10px] shadow-lg max-h-60 overflow-y-auto",children:l.map(e=>(0,s.jsx)("button",{type:"button",onMouseDown:t=>{t.preventDefault(),h(e)},className:"w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors duration-150 border-b border-gray-200 last:border-b-0 font-raleway text-sm text-primary",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCD"}),(0,s.jsx)("span",{children:e.display_name})]})},e.place_id))}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[d&&(0,s.jsx)("span",{children:"\uD83D\uDD0D Searching..."}),!d&&t.location&&t.location.length>=3&&(0,s.jsx)("span",{children:"✨ Powered by OpenStreetMap"})]})]})]})},c=a(1047),d=a(875),u=a(1351),m=a(9133);let p=u.Km(["USD","EUR","GBP","CAD","AUD"]),x=u.Km(["total","per-person"]),h=u.Km(["answer-questions","skip-to-details","not-selected"]);u.Ry({location:u.Z_().min(1,"Location is required").max(100,"Location must be less than 100 characters"),departDate:u.Z_().optional().refine(e=>!e||""===e.trim()||!isNaN(Date.parse(e)),"Invalid date format"),returnDate:u.Z_().optional().refine(e=>!e||""===e.trim()||!isNaN(Date.parse(e)),"Invalid date format"),flexibleDates:u.O7().default(!1),plannedDays:u.Rx().min(1,"Must be at least 1 day").max(31,"Cannot exceed 31 days").optional(),adults:u.Rx().min(1,"At least 1 adult required").max(10,"Maximum 10 adults"),children:u.Rx().min(0,"Cannot be negative").max(10,"Maximum 10 children"),childrenAges:u.IX(u.Rx().min(0,"Age cannot be negative").max(17,"Age cannot exceed 17")).optional(),budget:u.Rx().min(0,"Budget cannot be negative").max(1e4,"Budget cannot exceed $10,000"),currency:p.default("USD"),flexibleBudget:u.O7().default(!1),budgetMode:x.default("total"),accommodationOther:u.Z_().max(500,"Description too long").optional(),rentalCarPreferences:u.IX(u.Z_()).max(5,"Maximum 5 preferences").optional(),travelStyleChoice:h.default("not-selected"),travelStyleAnswers:u.IM(u.Z_(),u.Yj()).optional(),selectedGroups:u.IX(u.Z_()).optional(),customGroupText:u.Z_().max(200,"Custom group text too long").optional(),selectedInterests:u.IX(u.Z_()).optional(),customInterestsText:u.Z_().max(200,"Custom interest text too long").optional(),selectedInclusions:u.IX(u.Z_()).optional(),customInclusionsText:u.Z_().max(200,"Custom inclusion text too long").optional(),inclusionPreferences:u.IM(u.Z_(),u.Yj()).optional(),travelExperience:u.IX(u.Z_()).optional(),tripVibes:u.IX(u.Z_()).optional(),customVibeText:u.Z_().max(200,"Custom vibe text too long").optional(),sampleDays:u.IX(u.Z_()).optional(),dinnerPreferences:u.IX(u.Z_()).optional(),tripNickname:u.Z_().max(100,"Trip nickname too long").optional(),contactName:u.Z_().max(50,"Contact name too long").optional(),contactEmail:u.Z_().email("Invalid email format").optional(),contactInfo:u.Ry({name:u.Z_().optional(),email:u.Z_().email("Invalid email format").optional(),phone:u.Z_().optional(),subscribe:u.O7().optional()}).optional()}).superRefine((e,t)=>{let a=e.children||0;a>0&&(!e.childrenAges||e.childrenAges.length!==a)&&t.addIssue({code:m.NL.custom,message:"Number of children ages must match number of children",path:["childrenAges"]}),e.flexibleDates?(!e.plannedDays||e.plannedDays<1)&&t.addIssue({code:m.NL.custom,message:"Planned days is required when using flexible dates",path:["plannedDays"]}):(e.departDate&&""!==e.departDate.trim()||t.addIssue({code:m.NL.custom,message:"Departure date is required when not using flexible dates",path:["departDate"]}),e.returnDate&&""!==e.returnDate.trim()||t.addIssue({code:m.NL.custom,message:"Return date is required when not using flexible dates",path:["returnDate"]}))}),u.Ry({selectedInterests:u.IX(u.Z_()).min(1,"Please select at least one interest").max(10,"Maximum 10 interests"),otherText:u.Z_().optional()}).refine(e=>!e.selectedInterests.includes("other")||e.otherText&&e.otherText.trim().length>=10,{message:"Please provide at least 10 characters for other interests",path:["otherText"]}),u.Ry({accommodationTypes:u.IX(u.Z_()).min(1,"Select at least one accommodation type"),otherAccommodationType:u.Z_().max(500,"Description too long").optional(),specialRequests:u.Z_().max(500,"Description too long").optional()}),u.Ry({vehicleTypes:u.IX(u.Z_()).min(1,"Select at least one vehicle type"),specialRequirements:u.Z_().max(300,"Requirements description too long").optional()}),u.Ry({experience:u.IX(u.Z_()).min(1,"Select at least one travel experience"),vibes:u.IX(u.Z_()).min(1,"Select at least one travel vibe"),sampleDays:u.IX(u.Z_()).min(1,"Select at least one sample day activity"),dinnerChoices:u.IX(u.Z_()).min(1,"Select at least one dining preference"),tripNickname:u.Z_().min(3,"Nickname must be at least 3 characters").max(50,"Nickname must be less than 50 characters")});let b=e=>e.flexibleDates?!!(e.plannedDays&&e.plannedDays>=1):!!(e.departDate&&e.returnDate),y=e=>!e.children||!(e.children>0)||!!e.childrenAges&&e.childrenAges.length===e.children&&!e.childrenAges.some(e=>e===j||void 0===e),f=e=>!(e.selectedGroups&&e.selectedGroups.includes("other"))||!!(e.customGroupText&&e.customGroupText.trim().length>0),g=e=>!(e.selectedInterests&&e.selectedInterests.includes("other"))||!!(e.customInterestsText&&e.customInterestsText.trim().length>0),v=e=>{if(e.selectedInclusions&&e.selectedInclusions.includes("other")&&(!e.customInclusionsText||0===e.customInclusionsText.trim().length))return!1;if(e.selectedInclusions&&e.selectedInclusions.length>0){for(let t of e.selectedInclusions.filter(e=>"other"!==e))if(!e.inclusionPreferences||!e.inclusionPreferences[t])return!1}return!0},j=-1,w={USD:"$",EUR:"€",GBP:"\xa3",CAD:"C$",AUD:"A$"},D=[{id:"family",label:"Family",emoji:"\uD83E\uDDD1‍\uD83E\uDDD1‍\uD83E\uDDD2‍\uD83E\uDDD2"},{id:"couple",label:"Couple",emoji:"\uD83D\uDC69‍❤️‍\uD83D\uDC68"},{id:"solo",label:"Solo",emoji:"\uD83E\uDD7E"},{id:"friends",label:"Friends",emoji:"\uD83D\uDC6F"},{id:"large-group",label:"Large\nGroup",emoji:"\uD83D\uDE8C"},{id:"extended",label:"Family with\nRelatives",emoji:"\uD83C\uDFD8️"},{id:"business",label:"Business\nAssociates",emoji:"\uD83D\uDCBC"},{id:"other",label:"Other",emoji:"✨"}],N=[{id:"beach",label:"Beach",emoji:"\uD83C\uDFD6️"},{id:"culture",label:"Culture",emoji:"\uD83D\uDED5"},{id:"history",label:"History",emoji:"\uD83D\uDCDC"},{id:"food",label:"Food",emoji:"\uD83C\uDF5C"},{id:"drinks",label:"Drinks",emoji:"\uD83C\uDF77"},{id:"nature",label:"Nature",emoji:"\uD83C\uDF32"},{id:"relaxation",label:"Relaxation",emoji:"\uD83C\uDF79"},{id:"shopping",label:"Shopping",emoji:"\uD83D\uDECD️"},{id:"nightlife",label:"Nightlife",emoji:"\uD83D\uDD7A"},{id:"arts",label:"Arts &\nEntertainment",emoji:"\uD83C\uDFAD"},{id:"museums",label:"Museums &\nExhibitions",emoji:"\uD83D\uDDBC️"},{id:"zoos",label:"Zoos &\nAquariums",emoji:"\uD83E\uDD81"},{id:"kids",label:"Kid-friendly",emoji:"\uD83D\uDC67"},{id:"theme-parks",label:"Theme\nParks",emoji:"\uD83C\uDFA2"},{id:"sports",label:"Sporting\nEvents",emoji:"⚽️"},{id:"wellness",label:"Health &\nWellness",emoji:"\uD83E\uDDD8"},{id:"classes",label:"Classes",emoji:"\uD83E\uDDD1‍\uD83C\uDF73"},{id:"digital-detox",label:"Digital\ndetox",emoji:"\uD83D\uDCF5"},{id:"volunteering",label:"Volunteering",emoji:"\uD83E\uDD1D"},{id:"other",label:"Other",emoji:"✨"}],k=[{id:"flights",label:"Flights",emoji:"✈️"},{id:"accommodations",label:"Accommodations",emoji:"\uD83C\uDFE8"},{id:"rental-car",label:"Rental Car",emoji:"\uD83D\uDE97"},{id:"activities",label:"Activities & Tours",emoji:"\uD83D\uDEF6"},{id:"dining",label:"Dining",emoji:"\uD83C\uDF7D️"},{id:"entertainment",label:"Entertainment",emoji:"\uD83E\uDE87"},{id:"nature",label:"Nature",emoji:"\uD83C\uDF32"},{id:"train",label:"Train Tickets",emoji:"\uD83D\uDE86"},{id:"cruise",label:"Cruise",emoji:"\uD83D\uDEF3️"},{id:"other",label:"Other",emoji:"✨"}];var C=a(2489),E=a(401);let S={parseMMDDYY:e=>{if(!e)return null;let t=e.split("/");if(3!==t.length)return null;let a=parseInt(t[0]||"0")-1,r=parseInt(t[1]||"0"),l=parseInt(t[2]||"0");l<50?l+=2e3:l<100&&(l+=1900);let s=new Date(l,a,r);return isNaN(s.getTime())?null:s},formatToMMDDYY:e=>{let t=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),r=e.getFullYear().toString().slice(-2);return"".concat(t,"/").concat(a,"/").concat(r)},convertToInputFormat:e=>{if(!e)return"";let t=S.parseMMDDYY(e);if(!t)return"";let a=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(r,"-").concat(l)},getTodayString:()=>new Date().toISOString().split("T")[0]||"",calculateDaysBetween:(e,t)=>{let a=S.parseMMDDYY(e),r=S.parseMMDDYY(t);if(!a||!r)return null;let l=Math.ceil((r.getTime()-a.getTime())/864e5)+1;return l>0?l:null},isReturnDateValid:(e,t)=>{let a=S.parseMMDDYY(e),r=S.parseMMDDYY(t);return!!a&&!!r&&r.getTime()>a.getTime()}};var I=a(2451),T=a(407);let A=e=>{let{selectedDate:t,selectedEndDate:a,onDateSelect:r,minDate:l,maxDate:i,highlightedDates:o=[],className:c="",enableRangeSelection:d=!1}=e,[u,m]=(0,n.useState)(()=>t?new Date(t.getFullYear(),t.getMonth(),1):new Date(new Date().getFullYear(),new Date().getMonth(),1)),[p,x]=(0,n.useState)(null),h=new Date;h.setHours(0,0,0,0);let b=(0,n.useMemo)(()=>{let e=new Date(u.getFullYear(),u.getMonth(),1),t=new Date(e);t.setDate(t.getDate()-e.getDay());let a=[];for(let e=0;e<42;e++)a.push(new Date(t)),t.setDate(t.getDate()+1);return a},[u]),y=e=>!!l&&e<l||!!i&&e>i,f=e=>!!t&&e.toDateString()===t.toDateString(),g=e=>!!a&&e.toDateString()===a.toDateString(),v=e=>!!d&&!!t&&!!a&&e>(t<a?t:a)&&e<(t>a?t:a),j=e=>!!d&&!!t&&!a&&!!p&&e>(t<p?t:p)&&e<(t>p?t:p),w=e=>!!d&&!!t&&!a&&!!p&&e.toDateString()===p.toDateString(),D=e=>o.some(t=>t.toDateString()===e.toDateString()),N=e=>e.getMonth()===u.getMonth(),k=e=>{y(e)||r(e)};return(0,s.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 ".concat(c),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("button",{onClick:()=>{m(new Date(u.getFullYear(),u.getMonth()-1,1))},className:"p-1 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:(0,s.jsx)(I.Z,{className:"h-5 w-5 text-gray-600"})}),(0,s.jsxs)("h3",{className:"text-lg font-bold text-primary font-raleway",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][u.getMonth()]," ",u.getFullYear()]}),(0,s.jsx)("button",{onClick:()=>{m(new Date(u.getFullYear(),u.getMonth()+1,1))},className:"p-1 hover:bg-gray-100 rounded-full transition-colors",type:"button",children:(0,s.jsx)(T.Z,{className:"h-5 w-5 text-gray-600"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{className:"text-center text-xs font-bold text-gray-500 py-2",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1",children:b.map((e,t)=>{let a=f(e),r=g(e),l=v(e),n=j(e),i=w(e),o=D(e),c=y(e),d=e.toDateString()===h.toDateString(),u=N(e);return(0,s.jsx)("button",{onClick:()=>k(e),onMouseEnter:()=>!c&&x(e),onMouseLeave:()=>x(null),disabled:c,className:"\n                h-10 w-10 flex items-center justify-center text-sm font-medium rounded-lg transition-all duration-200\n                ".concat(c?"text-gray-300 cursor-not-allowed":a||r?"bg-primary text-white font-bold":l?"bg-primary/30 text-primary":n?"bg-primary/15 text-primary animate-pulse":i?"bg-primary/25 text-primary ring-2 ring-primary/40 animate-pulse":o?"bg-primary/20 text-primary":d&&u?"bg-gray-100 text-primary font-bold border border-primary":u?"text-gray-900 hover:bg-gray-100":"text-gray-400 hover:bg-gray-50","\n              "),type:"button",children:e.getDate()},t)})})]})};var F=e=>{let{isOpen:t,onClose:a,departDate:r,returnDate:l,onDatesChange:i}=e,[o,c]=(0,n.useState)(r),[d,u]=(0,n.useState)(l),[m,p]=(0,n.useState)({}),[x,h]=(0,n.useState)(),[b,y]=(0,n.useState)();(0,n.useEffect)(()=>{c(r),u(l),p({}),r?h(S.parseMMDDYY(r)||void 0):h(void 0),l?y(S.parseMMDDYY(l)||void 0):y(void 0)},[r,l,t]);let f=e=>e?e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):"Select date",g=(0,n.useCallback)(()=>{let e={};if(o){let t=S.parseMMDDYY(o);(!t||t<new Date(new Date().setHours(0,0,0,0)))&&(e.departDate="Departure date must be today or later")}else e.departDate="Departure date is required";return d&&(o?S.isReturnDateValid(o,d)||(e.returnDate="Return date must be after departure date"):e.returnDate="Please select departure date first"),p(e),0===Object.keys(e).length},[o,d]),v=(0,n.useCallback)(()=>{g()&&(i(o,d),a())},[o,d,g,i,a]),j=(0,n.useCallback)(()=>{c(r),u(l),p({}),a()},[r,l,a]);return((0,n.useEffect)(()=>{(o||d)&&g()},[o,d,g]),t)?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg sm:max-w-xl md:max-w-2xl lg:max-w-3xl",children:[(0,s.jsx)("div",{className:"bg-primary text-white px-4 py-3 sm:px-6 sm:py-4 rounded-t-2xl",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-bold font-raleway",children:"Select Travel Dates"}),(0,s.jsx)("button",{onClick:j,className:"p-1 hover:bg-primary-light rounded-full transition-colors duration-200","aria-label":"Close date picker",children:(0,s.jsx)(C.Z,{className:"h-5 w-5"})})]})}),(0,s.jsxs)("div",{className:"p-3 sm:p-4 md:p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 md:gap-6 mb-4 sm:mb-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h4",{className:"text-base sm:text-lg font-bold text-primary mb-2 font-raleway",children:"Departure Date *"}),(0,s.jsx)("div",{className:"py-2 sm:py-3 px-3 sm:px-4 border-3 rounded-[10px] ".concat(x?"border-primary bg-primary/10":"border-gray-300 bg-gray-50"),children:(0,s.jsx)("span",{className:"text-sm sm:text-base font-bold font-raleway ".concat(x?"text-primary":"text-gray-500"),children:x?f(x):"Select date"})}),m.departDate&&(0,s.jsx)("p",{className:"text-red-500 text-xs sm:text-sm mt-2 font-raleway",children:m.departDate})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h4",{className:"text-base sm:text-lg font-bold text-primary mb-2 font-raleway",children:"Return Date (Optional)"}),(0,s.jsx)("div",{className:"py-2 sm:py-3 px-3 sm:px-4 border-3 rounded-[10px] ".concat(b?"border-primary bg-primary/10":"border-gray-300 bg-gray-50"),children:(0,s.jsx)("span",{className:"text-sm sm:text-base font-bold font-raleway ".concat(b?"text-primary":"text-gray-500"),children:b?f(b):"Select date"})}),m.returnDate&&(0,s.jsx)("p",{className:"text-red-500 text-xs sm:text-sm mt-2 font-raleway",children:m.returnDate})]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,s.jsx)("div",{className:"w-full max-w-sm sm:max-w-md",children:(0,s.jsx)(A,{selectedDate:x,selectedEndDate:b,onDateSelect:e=>{!x||x&&b?(h(e),y(void 0),c(S.formatToMMDDYY(e)),u("")):x&&!b&&(e>=x?(y(e),u(S.formatToMMDDYY(e))):(h(e),y(void 0),c(S.formatToMMDDYY(e)),u("")))},minDate:new Date,highlightedDates:[],className:"w-full",enableRangeSelection:!0})})})]}),o&&d&&(0,s.jsxs)("div",{className:"px-3 py-3 sm:px-4 sm:py-4 md:px-6 md:py-4 bg-gray-50 rounded-b-2xl flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end",children:[(0,s.jsx)("button",{onClick:j,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-raleway font-bold transition-colors duration-200 text-sm sm:text-base",children:"Cancel"}),(0,s.jsxs)("button",{onClick:v,disabled:!o||Object.keys(m).length>0,className:"px-4 sm:px-6 py-2 rounded-lg font-raleway font-bold transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base ".concat(!o||Object.keys(m).length>0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:[(0,s.jsx)(E.Z,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Save Dates"]})]})]})}):null},R=e=>{let{formData:t,onFormChange:a,validationErrors:r=[]}=e,[l,i]=(0,n.useState)(!!t.flexibleDates),[o,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i(!!t.flexibleDates)},[t.flexibleDates]);let m=(0,n.useCallback)(e=>{i(e);let t={flexibleDates:e};e?(t.departDate="",t.returnDate=""):delete t.plannedDays,a(t)},[t,a]),p=(0,n.useCallback)((e,t)=>{a({departDate:e,returnDate:t})},[a]),x=(0,n.useCallback)(()=>{u(!0)},[]),h=(0,n.useCallback)(()=>{u(!1)},[]),y=t.departDate&&t.returnDate?(()=>{try{let e=t.departDate.split("/"),a=t.returnDate.split("/");if(3!==e.length||3!==a.length)return null;let r=parseInt(e[0]||""),l=parseInt(e[1]||""),s=parseInt(e[2]||""),n=parseInt(a[0]||""),i=parseInt(a[1]||""),o=parseInt(a[2]||"");if(isNaN(r)||isNaN(l)||isNaN(s)||isNaN(n)||isNaN(i)||isNaN(o))return null;let c=new Date(s<50?2e3+s:1900+s,r-1,l),d=new Date(o<50?2e3+o:1900+o,n-1,i).getTime()-c.getTime(),u=Math.ceil(d/864e5)+1;return u>0?u:null}catch(e){return null}})():null;b(t);let f=r.length>0;return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(f?"border-red-500":"border-gray-200"),children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-4 font-raleway",children:"DATES"}),!l&&(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary mb-2 font-bold font-raleway text-base",children:"Departure Date"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"MM/DD/YY",value:t.departDate||"",onClick:x,readOnly:!0,className:"w-full px-4 py-3 pr-12 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white font-bold font-raleway text-base cursor-pointer","aria-label":"Departure date"}),(0,s.jsx)(c.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-primary pointer-events-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-primary mb-2 font-bold font-raleway text-base",children:["Return Date ",(0,s.jsx)("span",{className:"text-sm font-normal",children:"(Optional)"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"MM/DD/YY",value:t.returnDate||"",onClick:x,readOnly:!0,className:"w-full px-4 py-3 pr-12 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white font-bold font-raleway text-base cursor-pointer","aria-label":"Return date (optional)"}),(0,s.jsx)(c.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-primary pointer-events-none"})]})]}),y&&(0,s.jsxs)("div",{className:"bg-[#ece8de] border-3 border-primary rounded-[10px] p-4 text-center",children:[(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-base",children:"Total days: "}),(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-white rounded-full border-3 border-primary ml-2",children:(0,s.jsx)("span",{className:"font-bold text-primary font-raleway text-xl",children:y})})]})]}),(0,s.jsx)("div",{className:"flex items-center mb-4",children:(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:l,onChange:e=>m(e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:rounded-full after:h-5 after:w-5 after:transition-all peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/30 mr-3 ".concat(l?"bg-primary border-primary after:bg-white after:border-[#ece8de] after:border":"bg-[#ece8de] border-primary border-2 after:bg-primary after:border-[#ece8de] after:border-2")}),(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-sm",children:"I'm not sure or my dates are flexible"})]})}),l&&(0,s.jsxs)("div",{className:"transition-all duration-300 ease-in-out",children:[(0,s.jsx)("label",{className:"block text-primary mb-2 font-bold font-raleway text-base",children:"How many days should we plan?"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:t.plannedDays||"",onChange:e=>{let r=e.target.value;if(r)a({plannedDays:parseInt(r)});else{let{plannedDays:e,...r}=t;a(r)}},className:"w-full px-4 py-3 pr-12 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white font-bold font-raleway text-base appearance-none","aria-label":"Number of planned days",children:[(0,s.jsx)("option",{value:"",className:"font-bold font-raleway",children:"Select number of days"}),Array.from({length:31},(e,t)=>t+1).map(e=>(0,s.jsxs)("option",{value:e,className:"font-bold font-raleway",children:[e," ",1===e?"day":"days"]},e))]}),(0,s.jsx)(d.Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-primary pointer-events-none"})]})]}),(0,s.jsx)(F,{isOpen:o,onClose:h,departDate:t.departDate||"",returnDate:t.returnDate||"",onDatesChange:p,disabled:l})]})},M=a(9554),P=a(9397),O=e=>{let{formData:t,onFormChange:a,validationErrors:r=[]}=e,[l,i]=(0,n.useState)(t.adults||2),[o,c]=(0,n.useState)(t.children||0),[u,m]=(0,n.useState)(t.childrenAges||[]);(0,n.useEffect)(()=>{i(t.adults||2),c(t.children||0),m(t.childrenAges||[])},[t.adults,t.children,JSON.stringify(t.childrenAges)]);let p=(0,n.useCallback)(e=>{let t=e?l+1:Math.max(1,l-1);i(t),a({adults:t})},[l,a]),x=(0,n.useCallback)(e=>{let t=e?o+1:Math.max(0,o-1);c(t);let r=[...u];e?r.push(j):r.length>t&&r.splice(t),m(r),a({children:t,childrenAges:r})},[o,u,a]),h=(0,n.useCallback)((e,t)=>{let r=[...u];for(;r.length<=e;)r.push(j);r[e]=t,m(r),a({childrenAges:r})},[u,a]),b=l+o,f=o>0&&(u.length<o||u.slice(0,o).some(e=>e===j||void 0===e));y(t);let g=r.length>0;return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(g?"border-red-500":"border-gray-200"),children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-4 font-raleway",children:"TRAVELERS"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-base",children:"Adults"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>p(!1),disabled:l<=1,className:"w-8 h-8 rounded-full border-3 border-primary bg-white hover:bg-primary/10 text-primary flex items-center justify-center transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease adults",children:(0,s.jsx)(M.Z,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"text-xl font-bold w-8 text-center text-primary font-raleway",children:l}),(0,s.jsx)("button",{onClick:()=>p(!0),className:"w-8 h-8 rounded-full border-3 border-primary bg-white hover:bg-primary/10 text-primary flex items-center justify-center transition-all duration-200","aria-label":"Increase adults",children:(0,s.jsx)(P.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-base",children:"Children"}),(0,s.jsx)("div",{className:"text-sm text-primary/70 font-bold font-raleway",children:"Ages 0-17"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>x(!1),disabled:o<=0,className:"w-8 h-8 rounded-full border-3 border-primary bg-white hover:bg-primary/10 text-primary flex items-center justify-center transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Decrease children",children:(0,s.jsx)(M.Z,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"text-xl font-bold w-8 text-center text-primary font-raleway",children:o}),(0,s.jsx)("button",{onClick:()=>x(!0),className:"w-8 h-8 rounded-full border-3 border-primary bg-white hover:bg-primary/10 text-primary flex items-center justify-center transition-all duration-200","aria-label":"Increase children",children:(0,s.jsx)(P.Z,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"text-center border-4 border-primary p-4 font-raleway font-bold mt-3 rounded-[20px] bg-primary/5",children:(0,s.jsxs)("span",{className:"text-primary text-lg",children:["Total travelers: ",b]})})]}),o>0&&(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[Array.from({length:o},(e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-primary font-bold font-raleway text-lg",children:["Child ",t+1]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:u[t]===j||void 0===u[t]?"":u[t],onChange:e=>{let a=e.target.value;""===a?h(t,j):h(t,parseInt(a))},className:"px-3 py-2 pr-8 border-3 rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-[#ece8de] text-primary font-bold font-raleway text-base appearance-none min-w-[140px] ".concat(u[t]===j||void 0===u[t]?"border-red-500":"border-primary"),"aria-label":"Age for child ".concat(t+1),children:[(0,s.jsx)("option",{value:"",className:"font-bold font-raleway text-base",children:"Select age"}),(0,s.jsx)("option",{value:0,className:"font-bold font-raleway text-base",children:"Under 1"}),Array.from({length:17},(e,t)=>t+1).map(e=>(0,s.jsxs)("option",{value:e,className:"font-bold font-raleway text-base",children:[e," ",1===e?"year":"years"," old"]},e))]}),(0,s.jsx)(d.Z,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-primary pointer-events-none"})]})]},t)),f&&(0,s.jsx)("p",{className:"text-red-500 font-bold font-raleway text-sm mt-2",children:"Please select ages for all children"})]})]})},_=e=>{let{formData:t,onFormChange:a}=e,[r,l]=(0,n.useState)(t.budget||5e3),i=t.budgetMode||"total";(0,n.useEffect)(()=>{l(t.budget||5e3)},[t.budget]);let o=(0,n.useCallback)(e=>{l(e),a({budget:e})},[a]),c=(0,n.useCallback)(e=>{a({budgetMode:e?"per-person":"total"})},[a]),d=(0,n.useCallback)(()=>w[t.currency||"USD"],[t.currency]),u=(0,n.useCallback)(()=>{let e=d();return t.adults,t.children,r>=1e4?"".concat(e,"10,000+"):"".concat(e).concat(r.toLocaleString())},[r,d,i,t.adults,t.children]);return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 border-gray-200",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide font-raleway",children:"BUDGET"})}),(0,s.jsx)("div",{className:"flex items-center mb-6",children:(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:t.flexibleBudget||!1,onChange:e=>a({flexibleBudget:e.target.checked}),className:"sr-only peer","aria-label":"Toggle budget flexibility"}),(0,s.jsx)("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:rounded-full after:h-5 after:w-5 after:transition-all peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/30 mr-3 ".concat(t.flexibleBudget?"bg-primary border-primary after:bg-white after:border-[#ece8de] after:border":"bg-[#ece8de] border-primary border-2 after:bg-primary after:border-[#ece8de] after:border-2")}),(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-sm",children:"I'm not sure or my budget is flexible"})]})}),!t.flexibleBudget&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)("div",{className:"bg-primary text-white px-6 py-3 rounded-[10px] font-bold text-2xl inline-block font-raleway",children:u()})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"slider-container",children:(0,s.jsx)("input",{type:"range",min:"0",max:1e4,step:250,value:r,onChange:e=>o(parseInt(e.target.value)),onInput:e=>o(parseInt(e.target.value)),className:"w-full slider-primary","aria-label":"Budget range","aria-valuemin":0,"aria-valuemax":1e4,"aria-valuenow":r})}),(0,s.jsxs)("div",{className:"flex justify-between text-base font-bold font-raleway px-3",style:{color:"#406170"},children:[(0,s.jsxs)("span",{children:[w[t.currency||"USD"],"0"]}),(0,s.jsxs)("span",{children:[w[t.currency||"USD"],"10,000+"]})]})]})]}),!t.flexibleBudget&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-6 mt-6",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("select",{value:t.currency||"USD",onChange:e=>a({currency:e.target.value}),className:"px-4 py-2 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-[#ece8de] text-primary font-bold font-raleway text-base","aria-label":"Select currency",children:[(0,s.jsx)("option",{value:"USD",className:"font-bold font-raleway text-sm",children:"$ USD"}),(0,s.jsx)("option",{value:"EUR",className:"font-bold font-raleway text-sm",children:"€ EUR"}),(0,s.jsx)("option",{value:"GBP",className:"font-bold font-raleway text-sm",children:"\xa3 GBP"}),(0,s.jsx)("option",{value:"CAD",className:"font-bold font-raleway text-sm",children:"C$ CAD"}),(0,s.jsx)("option",{value:"AUD",className:"font-bold font-raleway text-sm",children:"A$ AUD"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-sm","aria-current":"total"===i?"true":"false",children:"Total trip budget"}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:"per-person"===i,onChange:e=>c(e.target.checked),className:"sr-only peer","aria-label":"Toggle budget mode"}),(0,s.jsx)("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:rounded-full after:h-5 after:w-5 after:transition-all peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/30 bg-[#ece8de] border-primary border-2 after:bg-primary after:border-[#ece8de] after:border-2"})]}),(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-sm","aria-current":"per-person"===i?"true":"false",children:"Per-person budget"})]})]})]})},Y=e=>{let{formData:t,onFormChange:a,validationErrors:r=[]}=e,[l,i]=(0,n.useState)(t.customGroupText||""),[o,c]=(0,n.useState)(!1),d=t.selectedGroups||[];(0,n.useEffect)(()=>{i(t.customGroupText||""),c(d.includes("other"))},[t.customGroupText,d]);let u=(0,n.useCallback)(e=>{let t;"other"===e?d.includes("other")?(t=d.filter(e=>"other"!==e),c(!1),i(""),a({customGroupText:""})):(t=[...d,"other"],c(!0)):t=d.includes(e)?d.filter(t=>t!==e):[...d,e],a({selectedGroups:t})},[d,a]),m=(0,n.useCallback)(e=>{i(e),a({customGroupText:e})},[a]);f(t);let p=r.length>0;return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(p?"border-red-500":"border-gray-200"),children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:"TRAVEL GROUP"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply"})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-3",children:D.map(e=>{let t=d.includes(e.id);return(0,s.jsxs)("button",{onClick:()=>u(e.id),className:"\n                h-20 p-3 rounded-[10px] border-3 transition-all duration-200 hover:scale-105 hover:shadow-lg flex flex-col items-center justify-center space-y-1\n                ".concat(t?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),"aria-label":"extended"===e.id?"Select Family with Relatives group":"Select ".concat(e.label.replace("\n"," ")," group"),"aria-pressed":t,children:[(0,s.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,s.jsx)("span",{className:"text-base font-bold text-center leading-tight font-raleway whitespace-pre-line ".concat(t?"text-white":"text-primary"),children:e.label})]},e.id)})}),o&&(0,s.jsxs)("div",{className:"bg-primary/10 rounded-[10px] p-4 border-3 border-primary/20 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"✨"}),(0,s.jsx)("label",{className:"block text-primary font-bold text-base font-raleway",children:"Other"})]}),(0,s.jsx)("label",{className:"block text-primary font-bold mb-3 text-sm font-raleway",children:"Tell us more about your travel group"}),(0,s.jsx)("textarea",{value:l,onChange:e=>m(e.target.value),placeholder:"Specify your travel group",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold",rows:3,"aria-label":"Specify custom travel group"})]})]})},Z=e=>{let{formData:t,onFormChange:a,validationErrors:r=[]}=e,[l,i]=(0,n.useState)(t.customInterestsText||""),o=t.selectedInterests||[],c=o.includes("other");(0,n.useEffect)(()=>{i(t.customInterestsText||"")},[t.customInterestsText]);let d=(0,n.useCallback)(e=>{let t;"other"===e?o.includes("other")?(t=o.filter(e=>"other"!==e),i(""),a({customInterestsText:""})):t=[...o,"other"]:t=o.includes(e)?o.filter(t=>t!==e):[...o,e],a({selectedInterests:t})},[o,a]),u=(0,n.useCallback)(e=>{i(e),a({customInterestsText:e})},[a]);g(t);let m=r.length>0;return(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(m?"border-red-500":"border-gray-200"),children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:"TRAVEL INTERESTS"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply to this trip"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:N.map(e=>{let t=o.includes(e.id);return(0,s.jsxs)("button",{onClick:()=>d(e.id),className:"\n                h-24 p-3 rounded-[10px] border-3 transition-all duration-200 hover:scale-105 hover:shadow-lg flex flex-col items-center justify-center space-y-2\n                ".concat(t?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),"aria-label":"Select ".concat(e.label.replace("\n"," ")," interest"),"aria-pressed":t,children:[(0,s.jsx)("span",{className:"text-xl",children:e.emoji}),(0,s.jsx)("span",{className:"text-xs font-bold text-center leading-tight font-raleway whitespace-pre-line ".concat(t?"text-white":"text-primary"),children:e.label})]},e.id)})}),c&&(0,s.jsxs)("div",{className:"bg-primary/10 rounded-[10px] p-4 border-3 border-primary/20 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"✨"}),(0,s.jsx)("label",{className:"block text-primary font-bold text-base font-raleway",children:"Other"})]}),(0,s.jsx)("label",{className:"block text-primary font-bold mb-3 text-sm font-raleway",children:"What other interests would you like to explore?"}),(0,s.jsx)("textarea",{value:l,onChange:e=>u(e.target.value),placeholder:"Specify your interests: photography, cooking classes, wine tasting, etc.",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold text-sm",rows:3,"aria-label":"Describe other interests"})]})]})},B=e=>{let{preferences:t={},onSave:a,hasValidationError:r=!1}=e,[l,i]=(0,n.useState)(t.departureAirports||""),[o,c]=(0,n.useState)(t.cabinClasses||[]),[d,u]=(0,n.useState)(t.flightPreferences||"");(0,n.useEffect)(()=>{i(t.departureAirports||""),c(t.cabinClasses||[]),u(t.flightPreferences||"")},[t]);let m=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},p=(0,n.useCallback)(()=>{a({departureAirports:l,cabinClasses:o,flightPreferences:d})},[l,o,d,a]),x=(0,n.useCallback)(()=>{p()},[p]);return(0,s.jsxs)("div",{className:"w-full bg-[#b0c29b] rounded-[36px] py-6",children:[(0,s.jsxs)("div",{className:"w-full flex items-center space-x-3 bg-[#406170] px-6 py-4",children:[(0,s.jsx)("span",{className:"text-2xl",children:"✈️"}),(0,s.jsx)("h3",{className:"text-[25px] font-bold text-white uppercase tracking-wide font-raleway",children:"Flight Preferences"})]}),(0,s.jsxs)("div",{className:"space-y-6 px-6 bg-[#b0c29b] rounded-b-[36px] pt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"Traveler departure airport(s)"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),onBlur:x,placeholder:"Example: SFO, London area airports",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] font-raleway font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"(Optional) Preferred cabin class (select all that apply)"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"economy",label:"Economy $"},{value:"premium-economy",label:"Premium Economy $$"},{value:"business",label:"Business $$$"},{value:"first",label:"First $$$$"}].map(e=>(0,s.jsx)("button",{onClick:()=>m(e.value),className:"px-3 py-2 rounded-[10px] border-3 transition-all duration-200 font-bold font-raleway text-sm text-left flex items-center ".concat(o.includes(e.value)?"border-primary bg-primary text-white":"border-primary bg-[#ece8de] text-primary hover:bg-primary/10"),children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"(Optional) Flight or airline preferences"}),(0,s.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),onBlur:x,placeholder:"Example: I prefer Delta or United, 1 layover or less",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold",rows:3})]})]})]})},G=e=>{let{preferences:t={},onSave:a,hasValidationError:r=!1}=e,[l,i]=(0,n.useState)(t.selectedTypes||[]),[o,c]=(0,n.useState)(t.otherType||""),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(t.specialRequests||"");(0,n.useEffect)(()=>{i(t.selectedTypes||[]),c(t.otherType||""),p(t.specialRequests||""),u(!!t.otherType)},[t]);let x=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},h=(0,n.useCallback)(()=>{a({selectedTypes:l,otherType:o,specialRequests:m})},[l,o,m,a]),b=(0,n.useCallback)(()=>{h()},[h]);return(0,s.jsxs)("div",{className:"w-full bg-[#b0c29b] rounded-[36px] py-6",children:[(0,s.jsxs)("div",{className:"w-full flex items-center space-x-3 bg-[#406170] px-6 py-4",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFE8"}),(0,s.jsx)("h3",{className:"text-[25px] font-bold text-white uppercase tracking-wide font-raleway",children:"Accommodation Preferences"})]}),(0,s.jsxs)("div",{className:"space-y-6 px-6 bg-[#b0c29b] rounded-b-[36px] pt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"Preferred accommodation type(s)"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs mb-4",children:"Select all that apply"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[["Traditional hotel","Boutique hotel","AirBnB/Rental","Resort","All-inclusive","Budget hotel or hostel","Quirky or unique local stay","Camping or glamping"].map(e=>(0,s.jsx)("button",{onClick:()=>x(e),className:"px-3 py-2 rounded-[10px] border-3 transition-all duration-200 font-bold font-raleway text-sm text-left flex items-center ".concat(l.includes(e)?"border-primary bg-primary text-white":"border-primary bg-[#ece8de] text-primary hover:bg-primary/10"),children:e},e)),(0,s.jsx)("button",{onClick:()=>{u(!d)},className:"px-3 py-2 rounded-[10px] border-3 transition-all duration-200 font-bold font-raleway text-sm text-left flex items-center ".concat(o?"border-primary bg-primary text-white":"border-primary bg-[#ece8de] text-primary hover:bg-primary/10"),children:"✨ Other"})]}),d&&(0,s.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),onBlur:b,placeholder:"Specify other accommodation type...",className:"mt-3 w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] font-raleway font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"(Optional) Special accommodation requests or preferred hotel brands"}),(0,s.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),onBlur:b,placeholder:"Example: We want 2 separate rooms, We prefer Hyatt or Marriott hotels",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold",rows:3})]})]})]})},L=e=>{let{preferences:t={},onSave:a,hasValidationError:r=!1}=e,[l,i]=(0,n.useState)(t.vehicleTypes||[]),[o,c]=(0,n.useState)(t.specialRequirements||"");(0,n.useEffect)(()=>{i(t.vehicleTypes||[]),c(t.specialRequirements||"")},[t]);let d=e=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},u=(0,n.useCallback)(()=>{a({vehicleTypes:l,specialRequirements:o})},[l,o,a]),m=(0,n.useCallback)(()=>{u()},[u]);return(0,s.jsxs)("div",{className:"w-full bg-[#b0c29b] rounded-[36px] py-6",children:[(0,s.jsxs)("div",{className:"w-full flex items-center space-x-3 bg-[#406170] px-6 py-4",children:[(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE97"}),(0,s.jsx)("h3",{className:"text-[25px] font-bold text-white uppercase tracking-wide font-raleway",children:"Rental Car Preferences"})]}),(0,s.jsxs)("div",{className:"space-y-6 px-6 bg-[#b0c29b] rounded-b-[36px] pt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"Preferred vehicle type(s) (select all that apply)"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["Economy","Compact","Mid-size","Full-size","SUV","Luxury","Van/Minivan","Convertible"].map(e=>(0,s.jsx)("button",{onClick:()=>d(e),className:"px-3 py-2 rounded-[10px] border-3 transition-all duration-200 font-bold font-raleway text-sm text-left flex items-center ".concat(l.includes(e)?"border-primary bg-primary text-white":"border-primary bg-[#ece8de] text-primary hover:bg-primary/10"),children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:"(Optional) Special requirements or preferences"}),(0,s.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),onBlur:m,placeholder:"Example: We need seats for 6 people, We prefer Budget or Avis",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold",rows:3})]})]})]})},U=e=>{let{title:t,emoji:a,placeholder:r,preferences:l,onSave:i,hasValidationError:o=!1}=e,[c,d]=(0,n.useState)(l||"");(0,n.useEffect)(()=>{d(l||"")},[l]);let u=(0,n.useCallback)(()=>{i(c)},[c,i]),m=(0,n.useCallback)(()=>{u()},[u]);return(0,s.jsxs)("div",{className:"w-full bg-[#b0c29b] rounded-[36px] py-6",children:[(0,s.jsxs)("div",{className:"w-full flex items-center space-x-3 bg-[#406170] px-6 py-4",children:[(0,s.jsx)("span",{className:"text-2xl",children:a}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white uppercase tracking-wide font-raleway",children:t})]}),(0,s.jsxs)("div",{className:"px-6 bg-[#b0c29b] rounded-b-[36px] pt-2",children:[(0,s.jsxs)("label",{className:"block text-primary font-bold font-raleway text-base mb-3",children:["(Optional) Help us understand the types of ",t.toLowerCase().replace(" preferences","")," to include"]}),(0,s.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),onBlur:m,placeholder:r,className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold",rows:4})]})]})},W=e=>{let{formData:t,onFormChange:a,validationErrors:r={}}=e,[l,i]=(0,n.useState)(t.customInclusionsText||""),o=t.selectedInclusions||[],c=t.inclusionPreferences||{},d=o.includes("other");(0,n.useEffect)(()=>{i(t.customInclusionsText||"")},[t.customInclusionsText]);let u=(0,n.useCallback)(e=>{let t;"other"===e?o.includes("other")?(t=o.filter(e=>"other"!==e),i(""),a({customInclusionsText:""})):t=[...o,"other"]:t=o.includes(e)?o.filter(t=>t!==e):[...o,e],a({selectedInclusions:t})},[o,a]),m=(0,n.useCallback)(e=>{i(e),a({customInclusionsText:e})},[a]),p=(0,n.useCallback)((e,t)=>{a({inclusionPreferences:{...c,[e]:t}})},[c,a]);v(t);let x=Object.keys(r).length>0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6 border-3 ".concat(x?"border-red-500":"border-gray-200"),children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:"What Should We Include in Your Itinerary?"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"What should be included in your itinerary?"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:k.map(e=>{let t=o.includes(e.id);return(0,s.jsxs)("button",{onClick:()=>u(e.id),className:"\n                  h-24 p-3 rounded-[10px] border-3 transition-all duration-200 hover:scale-105 hover:shadow-lg flex flex-col items-center justify-center space-y-2\n                  ".concat(t?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n                "),"aria-label":"Toggle ".concat(e.label," inclusion"),"aria-pressed":t,children:[(0,s.jsx)("span",{className:"text-xl",children:e.emoji}),(0,s.jsx)("span",{className:"text-xs font-bold text-center leading-tight font-raleway ".concat(t?"text-white":"text-primary"),children:e.label})]},e.id)})}),d&&(0,s.jsxs)("div",{className:"bg-primary/10 rounded-[10px] p-4 border-3 border-primary/20 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"✨"}),(0,s.jsx)("label",{className:"block text-primary font-bold text-base font-raleway",children:"Other"})]}),(0,s.jsx)("label",{className:"block text-primary font-bold mb-3 text-sm font-raleway",children:"What else should we include in your itinerary?"}),(0,s.jsx)("textarea",{value:l,onChange:e=>m(e.target.value),placeholder:"Specify what else you'd like included in your itinerary...",className:"w-full px-4 py-3 border-3 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold text-sm",rows:3,"aria-label":"Describe other inclusions"})]})]}),o.filter(e=>"other"!==e).map(e=>{switch(e){case"flights":return(0,s.jsx)(B,{preferences:c[e]||{},onSave:t=>p(e,t),hasValidationError:!!r["inclusion-flights"]},e);case"accommodations":return(0,s.jsx)(G,{preferences:c[e]||{},onSave:t=>p(e,t),hasValidationError:!!r["inclusion-accommodations"]},e);case"rental-car":return(0,s.jsx)(L,{preferences:c[e]||{},onSave:t=>p(e,t),hasValidationError:!!r["inclusion-rental-car"]},e);case"activities":return(0,s.jsx)(U,{title:"Activities & Tours Preferences",emoji:"\uD83D\uDEF6",placeholder:"Example: I love history and culture, I want to bar hop in Barcelona",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-activities"]},e);case"dining":return(0,s.jsx)(U,{title:"Dining Preferences",emoji:"\uD83C\uDF7D️",placeholder:"Example: We love street food, we want fine dining for dinner every night",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-dining"]},e);case"entertainment":return(0,s.jsx)(U,{title:"Entertainment Preferences",emoji:"\uD83E\uDE87",placeholder:"Example: We love live music, I want to attend a local cultural festival",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-entertainment"]},e);case"nature":return(0,s.jsx)(U,{title:"Nature Preferences",emoji:"\uD83C\uDF32",placeholder:"Example: We love hiking and biking, my kids love to swim",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-nature"]},e);case"train":return(0,s.jsx)(U,{title:"Train Tickets Preferences",emoji:"\uD83D\uDE86",placeholder:"Example: We want to take a bullet train between Tokyo and Kyoto, I want to experience a sleeper train",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-train"]},e);case"cruise":return(0,s.jsx)(U,{title:"Cruise Preferences",emoji:"\uD83D\uDEF3️",placeholder:"Example: Royal Caribbean departing from Florida, Balcony Suite",preferences:c[e]||"",onSave:t=>p(e,t),hasValidationError:!!r["inclusion-cruise"]},e);default:return null}})]})},V=e=>{let{formData:t,onFormChange:a,showAdditionalForms:r=!1,validationErrors:l={}}=e,i=(0,n.useRef)(t);(0,n.useEffect)(()=>{i.current=t},[t]);let c={formData:t,onFormChange:(0,n.useCallback)(e=>{a({...i.current,...e})},[a]),validationErrors:[]};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(o,{...c,validationErrors:l.location||[]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(R,{...c,validationErrors:l.dates||[]}),(0,s.jsx)(O,{...c,validationErrors:l.travelers||[]})]}),(0,s.jsx)(_,{...c}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y,{...c,validationErrors:l.travelGroups||[]}),(0,s.jsx)(Z,{...c,validationErrors:l.travelInterests||[]}),(0,s.jsx)(W,{...c,validationErrors:l})]})]})};(r=l||(l={})).NOT_SELECTED="not-selected",r.DETAILED="detailed",r.SKIP="skip";var z=a(2023),q=a(6479),H=e=>{let{onChoiceSelect:t,disabled:a=!1,className:r=""}=e;return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-[#406170] to-[#2a4552] rounded-[36px] p-8 text-white ".concat(r),children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold font-raleway uppercase tracking-wide mb-3",children:"NOW YOU HAVE A CHOICE:"}),(0,s.jsx)("p",{className:"text-base font-raleway opacity-90 max-w-2xl mx-auto",children:"Choose how you'd like us to customize your itinerary"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("button",{onClick:()=>{a||t(l.DETAILED)},disabled:a,role:"button","aria-label":"Choose detailed travel style preferences for personalized itinerary",className:"\n            relative group px-12 py-6 rounded-[20px] font-bold font-raleway text-xl\n            transition-all duration-300 transform hover:scale-105\n            ".concat(a?"bg-white/20 text-white/60 cursor-not-allowed border-4 border-white/20":"bg-[#b0c29b] text-white hover:shadow-2xl hover:shadow-white/30 border-4 border-white shadow-[inset_0_0_0_2px_rgba(255,255,255,1)]","\n          "),children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,s.jsx)(z.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"text-center leading-tight",children:"Answer 4 more questions"}),(0,s.jsx)("div",{className:"text-sm font-normal opacity-80 max-w-xs",children:"to get the most personalized itinerary possible"}),(0,s.jsx)("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs font-bold uppercase",children:"Recommended"})]}),!a&&(0,s.jsx)("div",{className:"absolute inset-0 rounded-[20px] bg-gradient-to-r from-yellow-400/20 via-pink-500/20 to-purple-600/20    opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]}),(0,s.jsxs)("button",{onClick:()=>{a||t(l.SKIP)},disabled:a,role:"button","aria-label":"Skip ahead to trip nickname and generate itinerary quickly",className:"\n            relative group px-12 py-6 rounded-[20px] font-bold font-raleway text-xl\n            transition-all duration-300 transform hover:scale-105\n            ".concat(a?"bg-white/20 text-white/60 cursor-not-allowed border-4 border-white/20":"bg-white text-primary hover:shadow-2xl hover:shadow-white/30 border-4 border-white shadow-[inset_0_0_0_2px_rgba(255,255,255,1)]","\n          "),children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,s.jsx)(q.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"text-center leading-tight",children:"Skip ahead"}),(0,s.jsx)("div",{className:"text-sm font-normal opacity-80 max-w-xs",children:"to an itinerary based on what I've already answered"})]}),!a&&(0,s.jsx)("div",{className:"absolute inset-0 rounded-[20px] bg-gradient-to-r from-blue-400/20 via-purple-500/20 to-cyan-600/20    opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]})]})]})},X=e=>{let{tripNickname:t,onNicknameChange:a,contactInfo:r,onContactChange:l,formData:n,validationErrors:i=[]}=e,o=(e,t)=>{l({...r,[e]:t})},c=e=>{l({...r,subscribe:e})},d=i.length>0;return(0,s.jsx)("div",{className:"bg-form-box rounded-[36px] p-2 border-gray-200",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-2 font-raleway",children:"Trip Nickname"}),(0,s.jsx)("input",{type:"text",placeholder:'Example: "Girls\' trip to Mexico", "Southeast Asia 50th anniversary extravaganza!"',value:t,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border-2 rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white placeholder-gray-500 font-raleway font-bold ".concat(d?"border-red-500":"border-primary")})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-300",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold mb-2 font-raleway text-[25px]",children:"Your Name"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter your full name",value:r.name||"",onChange:e=>o("name",e.target.value),className:"w-full px-4 py-3 border-2 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white font-raleway font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-primary font-bold mb-1 font-raleway text-[25px]",children:"Email"}),(0,s.jsx)("p",{className:"text-xs font-bold font-raleway mb-2 text-primary",children:"We'll use this to send you your itinerary"}),(0,s.jsx)("input",{type:"email",placeholder:"your@email.com",value:r.email||"",onChange:e=>o("email",e.target.value),className:"w-full px-4 py-3 border-2 border-primary rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-white font-raleway font-bold"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer mr-3",children:[(0,s.jsx)("input",{type:"checkbox",checked:!1!==r.subscribe,onChange:e=>c(e.target.checked),className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-11 h-6 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:rounded-full after:h-5 after:w-5 after:transition-all peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/30 ".concat(!1!==r.subscribe?"bg-primary border-primary after:bg-white after:border-primary":"bg-gray-200 border-gray-300 after:bg-primary after:border-gray-200")})]}),(0,s.jsx)("span",{className:"text-primary font-bold font-raleway text-sm",children:"Subscribe to HYLO TRAVEL emails for tips, deals, hacks, and more. See our Privacy Policy."})]})]})]})})},$=e=>{let{choice:t,onChoiceChange:a,formData:r,onFormChange:n,onGenerateItinerary:i,selectedExperience:o=[],onExperienceChange:c=()=>{},selectedVibes:d=[],onVibeChange:u=()=>{},customVibesText:m="",onCustomVibesChange:p=()=>{},selectedSampleDays:x=[],onSampleDaysChange:h=()=>{},dinnerChoices:b=[],onDinnerChoicesChange:y=()=>{},tripNickname:f="",onTripNicknameChange:g=()=>{},contactInfo:v={},onContactChange:j=()=>{},disabled:w=!1,validationErrors:D={}}=e;return(0,s.jsxs)("div",{className:"space-y-8","data-testid":"travel-style-container",children:[t===l.NOT_SELECTED&&(0,s.jsx)("div",{children:(0,s.jsx)(H,{onChoiceSelect:a,disabled:w})},"choice-component"),t===l.DETAILED&&(0,s.jsx)("div",{className:"space-y-8"},"detailed-placeholder"),t===l.SKIP&&(0,s.jsx)("div",{className:"space-y-8",children:(0,s.jsx)("div",{className:"bg-form-box rounded-[20px] p-6",children:(0,s.jsx)(X,{tripNickname:f||"",onNicknameChange:g,contactInfo:v,onContactChange:j,formData:r,validationErrors:D.tripNickname||[]})})},"skip-component"),t===l.SKIP&&(0,s.jsx)("div",{className:"pt-6",children:(0,s.jsxs)("button",{type:"button",onClick:i,className:"w-full px-12 py-6 rounded-[36px] font-bold font-raleway text-[32px] bg-[#f68854] text-primary hover:shadow-2xl hover:shadow-white/30 transition-all duration-300 transform hover:scale-105 relative group",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,s.jsx)("span",{children:"GENERATE MY PERSONALIZED ITINERARY"}),(0,s.jsx)("span",{className:"text-2xl",children:"✨"})]}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-[36px] bg-gradient-to-r from-yellow-400/20 via-pink-500/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]})})]})},K=e=>{let{selectedExperience:t,onSelectionChange:a}=e,r=e=>{a(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[{text:"Haven't traveled much",emoji:"\uD83C\uDF31"},{text:"Some in-country travel",emoji:"\uD83D\uDE98"},{text:"Travel to another country",emoji:"\uD83D\uDEE9️"},{text:"Travel to multiple countries",emoji:"\uD83C\uDF0F"},{text:"Avid traveler(s) to a variety of countries",emoji:"\uD83E\uDDF3"},{text:"Comfortable in new places",emoji:"\uD83E\uDDED"},{text:"Nervous or rusty traveler(s)",emoji:"\uD83D\uDE1F"},{text:"Varying levels of experience",emoji:"\uD83D\uDCBA"}].map(e=>{let a=t.includes(e.text);return(0,s.jsxs)("button",{type:"button",onClick:()=>r(e.text),className:"\n                p-4 rounded-[10px] border-2 text-left transition-all duration-200 hover:scale-105 flex items-center space-x-3\n                ".concat(a?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),children:[(0,s.jsx)("span",{className:"text-xl",children:e.emoji}),(0,s.jsx)("span",{className:"font-bold font-raleway text-sm ".concat(a?"text-white":"text-primary"),children:e.text})]},e.text)})})})},J=e=>{let{selectedVibes:t,onSelectionChange:a,otherText:r,onOtherTextChange:l,showOther:i,onToggleOther:o}=e,c=t.includes("other");(0,n.useEffect)(()=>{!t.includes("other")&&r&&l("")},[t,r,l]);let d=e=>{console.log("toggleVibe called for:",e,"currently selected:",t);let r=t.includes(e)?t.filter(t=>t!==e):[...t,e];console.log("new selection will be:",r),a(r)};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[{id:"up-for-anything",text:"Up for anything",emoji:"\uD83C\uDF8A"},{id:"relax-recharge",text:"Relax & recharge",emoji:"\uD83E\uDDD8"},{id:"be-in-the-action",text:"Be in the action",emoji:"\uD83C\uDFAC"},{id:"go-with-the-flow",text:"Go with the flow",emoji:"\uD83D\uDD7A"},{id:"wander-get-lost",text:"Wander & get lost",emoji:"\uD83E\uDDED"},{id:"follow-detailed-plan",text:"Follow a detailed plan",emoji:"✅"},{id:"maximize-time",text:"Go-go-go to maximize time",emoji:"\uD83C\uDFC3‍♀️"},{id:"food-is-half-fun",text:"Food is half the fun",emoji:"\uD83C\uDF71"},{id:"need-variety",text:"Need a lot of variety",emoji:"\uD83D\uDCF8"},{id:"immersed-local-culture",text:"Immersed in local culture",emoji:"\uD83D\uDC83"},{id:"classic-tourist",text:"Classic tourist spots & experiences",emoji:"\uD83D\uDDFD"},{id:"unique-offbeat",text:"Unique or offbeat experiences",emoji:"\uD83D\uDD2E"},{id:"learn-grow",text:"Learn and grow",emoji:"\uD83E\uDDE0"},{id:"reconnect-group",text:"Reconnect as a group",emoji:"⛓️"},{id:"escape-everyday",text:"An escape from everyday life",emoji:"\uD83C\uDF79"},{id:"other",text:"Other",emoji:"✨"}].map(e=>{let a=t.includes(e.id);return(0,s.jsxs)("button",{type:"button",onClick:()=>d(e.id),className:"\n                p-4 rounded-[10px] border-2 text-center transition-all duration-200 hover:scale-105 flex flex-col items-center space-y-2 cursor-pointer select-none\n                ".concat(a?"border-primary bg-primary text-white shadow-md hover:bg-primary-dark":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),children:[(0,s.jsx)("span",{className:"text-xl",children:e.emoji}),(0,s.jsx)("span",{className:"font-bold font-raleway text-sm ".concat(a?"text-white":"text-primary"),children:e.text})]},e.id)})}),c&&(0,s.jsxs)("div",{className:"bg-primary/10 rounded-[10px] p-4 border border-primary/20 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("span",{className:"text-xl",children:"✨"}),(0,s.jsx)("label",{className:"block text-primary font-bold text-base font-raleway",children:"Other"})]}),(0,s.jsx)("label",{className:"block text-primary font-bold mb-3 text-sm font-raleway",children:"What other vibe(s) do you want for this trip?"}),(0,s.jsx)("textarea",{value:r,onChange:e=>l(e.target.value),placeholder:"Example: We want down time to laugh and reminisce about the good old days",className:"w-full px-4 py-3 border-3 border-[#406170] rounded-[10px] focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 text-primary bg-[#ece8de] resize-none font-raleway font-bold text-sm",rows:3})]})]})},Q=e=>{let{selectedDays:t,onSelectionChange:a}=e,r=e=>{a(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:"Which of these sample travel days are you drawn to?"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply for this group"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:[{text:"Get picked up for a guided tour full of landmarks, history, and meeting fellow travelers",emoji:"\uD83D\uDE90"},{text:"Wander around at our our own pace to eat, shop, take pictures, and see what else is going on",emoji:"\uD83D\uDCF8"},{text:"After a leisurely breakfast, we're headed to the pool or beach to relax with a good book",emoji:"\uD83D\uDC59"},{text:"We're going ziplining in the morning and taking a cooking class in the afternoon",emoji:"\uD83E\uDDD1‍\uD83C\uDF73"},{text:"We want to see how the locals live and be immersed in the culture",emoji:"\uD83C\uDFDF️"},{text:"We want to be as active as possible so we have to squeeze in a hike",emoji:"\uD83E\uDD7E"},{text:"Visit a beautiful winery, distillery, or cocktail tasting",emoji:"\uD83C\uDF77"},{text:"Take it easy during the day, party all night",emoji:"\uD83E\uDD73"}].map(e=>{let a=t.includes(e.text);return(0,s.jsxs)("button",{type:"button",onClick:()=>r(e.text),className:"\n                p-4 rounded-[10px] border-2 text-left transition-all duration-200 hover:scale-105 flex items-center space-x-3\n                ".concat(a?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),children:[(0,s.jsx)("span",{className:"text-xl flex-shrink-0",children:e.emoji}),(0,s.jsx)("span",{className:"font-bold font-raleway text-sm ".concat(a?"text-white":"text-primary"),children:e.text})]},e.text)})})]})},ee=e=>{let{selectedChoice:t,onSelectionChange:a}=e,r=e=>{a(t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:["You just landed and are starving.",(0,s.jsx)("br",{}),"Where are you having dinner?"]}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply for this group"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:[{text:"We have a reservation at a Michelin-starred restaurant",emoji:"⭐️"},{text:"Let's sample some local street food vendors",emoji:"\uD83C\uDF56"},{text:"We'll just keep it easy and eat at the hotel",emoji:"\uD83C\uDFE9"},{text:"Let's wander and see where we end up",emoji:"\uD83E\uDD5F"},{text:"Whatever works—I'm not a big food person",emoji:"\uD83E\uDD37‍♀️"},{text:"Find a food truck roundup so everyone can get what they like",emoji:"\uD83C\uDF2E"},{text:"See what the McDonald's menu is like in this country",emoji:"\uD83C\uDF5F"},{text:"Grab some groceries and cook our own dinner",emoji:"\uD83E\uDD58"}].map(e=>{let a=t.includes(e.text);return(0,s.jsxs)("button",{type:"button",onClick:()=>r(e.text),className:"\n                p-4 rounded-[10px] border-2 text-left transition-all duration-200 hover:scale-105 flex items-center space-x-3\n                ".concat(a?"border-primary bg-primary text-white shadow-md":"border-primary bg-[#ece8de] hover:border-primary hover:shadow-md text-primary","\n              "),children:[(0,s.jsx)("span",{className:"text-xl flex-shrink-0",children:e.emoji}),(0,s.jsx)("span",{className:"font-bold font-raleway text-sm ".concat(a?"text-white":"text-primary"),children:e.text})]},e.text)})})]})};let et=e=>{var t,a,r,l,n,i;let{onFormChange:o,formData:c,validationErrors:d}=e;return console.log("TravelStyleGroup rendering",{formData:c}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:"What is your group's level of travel experience?"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply"})]}),(0,s.jsx)(K,{selectedExperience:(null==c?void 0:null===(t=c.travelStyleAnswers)||void 0===t?void 0:t.experience)||[],onSelectionChange:e=>{null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,experience:e}})}})]}),(0,s.jsxs)("div",{className:"bg-form-box rounded-[36px] p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-[25px] font-bold text-primary uppercase tracking-wide mb-1 font-raleway",children:'What do you want the "vibe" of this trip to be?'}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-xs",children:"Select all that apply"})]}),(0,s.jsx)(J,{selectedVibes:(null==c?void 0:null===(a=c.travelStyleAnswers)||void 0===a?void 0:a.vibes)||[],onSelectionChange:e=>{console.log("handleVibeChange called with:",e),null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,vibes:e}})},otherText:(null==c?void 0:null===(r=c.travelStyleAnswers)||void 0===r?void 0:r.vibesOther)||"",onOtherTextChange:e=>{null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,vibesOther:e}})}})]}),(0,s.jsx)("div",{className:"bg-form-box rounded-[36px] p-6",children:(0,s.jsx)(Q,{selectedDays:(null==c?void 0:null===(l=c.travelStyleAnswers)||void 0===l?void 0:l.sampleDays)||[],onSelectionChange:e=>{null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,sampleDays:e}})}})}),(0,s.jsx)("div",{className:"bg-form-box rounded-[36px] p-6",children:(0,s.jsx)(ee,{selectedChoice:(null==c?void 0:null===(n=c.travelStyleAnswers)||void 0===n?void 0:n.dinnerChoices)||[],onSelectionChange:e=>{null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,dinnerChoices:e}})}})}),(0,s.jsx)("div",{className:"bg-form-box rounded-[36px] p-6",children:(0,s.jsx)(X,{tripNickname:(null==c?void 0:null===(i=c.travelStyleAnswers)||void 0===i?void 0:i.tripNickname)||"",onNicknameChange:e=>{null==o||o({...c,travelStyleAnswers:{...null==c?void 0:c.travelStyleAnswers,tripNickname:e}})},contactInfo:(null==c?void 0:c.contactInfo)||{},onContactChange:e=>{null==o||o({...c,contactInfo:e})},formData:c,validationErrors:(null==d?void 0:d.tripNickname)||[]})})]})};var ea=a(166);a(5046);let er=(0,ea.default)(()=>a.e(305).then(a.bind(a,9305)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),el=(0,ea.default)(()=>a.e(305).then(a.bind(a,9305)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),es=(0,ea.default)(()=>a.e(305).then(a.bind(a,9305)).then(e=>e.Marker),{loadableGenerated:{webpack:()=>[9305]},ssr:!1}),en=(0,ea.default)(()=>a.e(305).then(a.bind(a,9305)).then(e=>e.Popup),{loadableGenerated:{webpack:()=>[9305]},ssr:!1});function ei(e){let{location:t,lat:r,lng:l,zoom:i=5.5,className:o=""}=e,[c,d]=(0,n.useState)(r&&l?{lat:r,lng:l}:null),[u,m]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{m(!0),r&&l||fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(t),"&limit=1")).then(e=>e.json()).then(e=>{e&&e.length>0&&d({lat:parseFloat(e[0].lat),lng:parseFloat(e[0].lon)})}).catch(e=>{console.error("Geocoding failed:",e)})},[t,r,l]),(0,n.useEffect)(()=>{if(u){let e=a(759);delete e.Icon.Default.prototype._getIconUrl,e.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"})}},[u]),u&&c)?(0,s.jsx)("div",{className:o,children:(0,s.jsxs)(er,{center:[c.lat,c.lng],zoom:i,scrollWheelZoom:!1,style:{height:"400px",width:"100%",borderRadius:"12px"},children:[(0,s.jsx)(el,{attribution:"Tiles \xa9 Esri — Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",maxZoom:19}),(0,s.jsx)(el,{attribution:"",url:"https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",maxZoom:19}),(0,s.jsx)(es,{position:[c.lat,c.lng],children:(0,s.jsx)(en,{children:(0,s.jsx)("strong",{children:t})})})]})}):(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg flex items-center justify-center ".concat(o),style:{height:"400px"},children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading map..."})]})})}let eo=e=>"string"!=typeof e?"":e.trim(),ec=e=>e?Array.isArray(e)?(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:e.map((e,t)=>(0,s.jsx)("li",{children:e},"".concat(e,"-").concat(t)))}):(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:e}):null,ed=e=>{if(e){if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean);return t.length>0?t:void 0}if("string"==typeof e)return e.trim()||void 0}},eu=e=>{if(e){if("string"==typeof e)return e.trim()||void 0;if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean);return t.length>0?t:void 0}if("object"==typeof e){let t="string"==typeof e.breakfast?e.breakfast.trim():void 0,a="string"==typeof e.lunch?e.lunch.trim():void 0,r="string"==typeof e.dinner?e.dinner.trim():void 0,l={};return t&&(l.breakfast=t),a&&(l.lunch=a),r&&(l.dinner=r),Object.keys(l).length>0?l:void 0}}},em=e=>{var t,a,r,l,s,n,i,o;if(!e)return null;if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean);return 0===t.length?null:{activities:t}}if("string"==typeof e){let t=e.trim();return t?{activities:t}:null}let c={title:e.title,summary:e.summary,activities:e.activities,notes:e.notes,transportation:ed(null!==(s=null!==(l=null!==(r=null!==(a=null!==(t=e.transportation)&&void 0!==t?t:e.transport)&&void 0!==a?a:e.gettingAround)&&void 0!==r?r:e.transit)&&void 0!==l?l:e.travel)&&void 0!==s?s:e.transfer),dining:eu(null!==(o=null!==(i=null!==(n=e.dining)&&void 0!==n?n:e.meals)&&void 0!==i?i:e.diningOptions)&&void 0!==o?o:e.food)};return(Array.isArray(c.activities)&&(c.activities=c.activities.map(e=>"string"==typeof e?e.trim():"").filter(Boolean)),"string"==typeof c.activities&&(c.activities=c.activities.trim()),c.summary&&(c.summary=c.summary.trim()),c.notes&&(c.notes=c.notes.trim()),c.summary||c.activities||c.notes||c.transportation||c.dining)?c:null},ep=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{heading:"\uD83C\uDF7D️ Dining",headingClassName:"text-lg font-semibold text-gray-800 mb-2",containerClassName:"mb-4",headingTag:"h3",textClassName:"text-gray-700 whitespace-pre-line",itemClassName:"text-gray-700"},{heading:a="\uD83C\uDF7D️ Dining",headingClassName:r="text-lg font-semibold text-gray-800 mb-2",containerClassName:l="mb-4",headingTag:n="h3",textClassName:i="text-gray-700 whitespace-pre-line",itemClassName:o="text-gray-700"}=t;if(!e)return null;if("string"==typeof e){let t=e.trim();return t?(0,s.jsxs)("div",{className:l,children:[(0,s.jsx)(n,{className:r,children:a}),(0,s.jsx)("p",{className:i,children:t})]}):null}if(Array.isArray(e)){let t=e.map(e=>"string"==typeof e?e.trim():"").filter(Boolean);return 0===t.length?null:(0,s.jsxs)("div",{className:l,children:[(0,s.jsx)(n,{className:r,children:a}),(0,s.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,s.jsx)("p",{className:o,children:e},t))})]})}let c=[{label:"Breakfast",value:e.breakfast},{label:"Lunch",value:e.lunch},{label:"Dinner",value:e.dinner}].filter(e=>e.value&&"string"==typeof e.value&&e.value.trim());return 0===c.length?null:(0,s.jsxs)("div",{className:l,children:[(0,s.jsx)(n,{className:r,children:a}),(0,s.jsx)("div",{className:"space-y-2",children:c.map(e=>{let{label:t,value:a}=e;return(0,s.jsxs)("p",{className:o,children:[(0,s.jsxs)("strong",{children:[t,":"]})," ",a]},t)})})]})},ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\uD83D\uDE97 Transportation",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text-lg font-semibold text-gray-800 mb-2",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mb-4",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text-gray-700 whitespace-pre-line";if(!e)return null;if(Array.isArray(e)){let l=e.filter(Boolean);return 0===l.length?null:(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)("h4",{className:a,children:t}),(0,s.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:l.map((e,t)=>(0,s.jsx)("li",{children:e},"".concat(e,"-").concat(t)))})]})}let n=e.trim();return n?(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)("h4",{className:a,children:t}),(0,s.jsx)("p",{className:l,children:n})]}):null},eh=(e,t,a)=>{let r=em(t);if(!r)return null;let l=Array.isArray(r.activities)?r.activities.join("\n"):r.activities;return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:[a?"".concat(a," "):"",e]}),r.summary&&(0,s.jsx)("p",{className:"text-gray-700 mb-2",children:r.summary}),l&&(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:l}),r.notes&&(0,s.jsx)("p",{className:"text-gray-600 italic mt-2",children:r.notes}),ex(r.transportation,"\uD83D\uDE97 Transportation","text-sm font-semibold uppercase tracking-wide text-gray-600 mb-1","mt-3","text-gray-700"),ep(r.dining,{heading:"Dining",headingTag:"h4",headingClassName:"text-sm font-semibold uppercase tracking-wide text-gray-600 mb-1",containerClassName:"mt-3",textClassName:"text-gray-700 whitespace-pre-line",itemClassName:"text-gray-700"})]})};var eb=e=>{var t,a;let{layout:r,formData:l,mapImageUrl:n=null,isLoading:o=!1,onStartOver:c,onDownloadPdf:d,onPrepareEmail:u}=e;if(!r||!l)return null;let m=eo(l.tripNickname)||eo(null===(t=l.travelStyleAnswers)||void 0===t?void 0:t.tripNickname)||eo(l.location)||"Your Adventure",p=(()=>{var e,t;let a=null!==(e=l.adults)&&void 0!==e?e:0,r=null!==(t=l.children)&&void 0!==t?t:0,s="".concat(a," adult").concat(1===a?"":"s"),n=r>0?" • ".concat(r," kid").concat(1===r?"":"s"):"";return"".concat(s).concat(n)})(),x=l.departDate&&l.returnDate?"".concat(l.departDate," → ").concat(l.returnDate):"Flexible",h=Array.isArray(r.dailyPlans)&&r.dailyPlans.length>0?r.dailyPlans:Array.isArray(r.daily)?r.daily:[],b=h.length>0;return(0,s.jsxs)(i.E.section,{className:"w-full bg-[#406170] py-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[(0,s.jsxs)(i.E.div,{className:"space-y-2 text-center pt-[55px]",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},children:[(0,s.jsxs)("div",{className:"text-[clamp(3rem,8vw,5rem)] font-bold uppercase whitespace-nowrap pt-[15px] pb-5",children:[(0,s.jsx)("span",{className:"text-[#ece8de]",children:"YOUR "}),(0,s.jsx)("span",{className:"text-[#f9dd8b]",children:"PERSONALIZED "}),(0,s.jsx)("span",{className:"text-[#ece8de]",children:"ITINERARY"})]}),(0,s.jsxs)("div",{className:"text-[35px] font-bold uppercase py-3 tracking-[3px]",style:{backgroundColor:"rgb(176, 194, 155)",color:"rgb(64, 97, 112)"},children:['TRIP SUMMARY | "',m,'"']})]}),(0,s.jsx)("div",{className:"mx-auto px-[7%] pt-[3%] pb-[3%]",children:(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(i.E.div,{className:"rounded-3xl p-8",style:{backgroundColor:"#406170"},initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.4},children:(0,s.jsx)("dl",{className:"grid gap-5 sm:grid-cols-2 xl:grid-cols-5",children:[{label:"Destination",value:eo(l.location)||"—"},{label:"Dates",value:x},{label:"Travelers",value:p},{label:"Budget",value:l.flexibleBudget?(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("span",{className:"font-semibold",children:"Budget is Flexible"})}):(0,s.jsxs)("div",{className:"text-center space-y-1",children:[(0,s.jsxs)("div",{className:"text-xl font-bold",children:["$","number"==typeof l.budget&&l.budget>0?l.budget.toLocaleString():"0"]}),(0,s.jsx)("div",{className:"text-sm font-medium",children:"total"===l.budgetMode?"Total Budget":"Per-Person"})]})},{label:"Prepared for",value:eo(l.contactName)||eo(null===(a=l.contactInfo)||void 0===a?void 0:a.name)||"—"}].map((e,t)=>(0,s.jsxs)(i.E.div,{className:"rounded-xl border border-[#5a8291] bg-[#f9f6ee] px-5 py-4",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.6+.1*t},children:[(0,s.jsx)("dt",{className:"text-[18px] font-bold uppercase tracking-[0.15em] text-[#406170] mb-2.5 text-center",children:e.label}),(0,s.jsx)("dd",{className:"text-base font-semibold text-[#1f2f35] leading-relaxed break-words",children:(e.value,e.value)})]},e.label))})}),(0,s.jsx)(i.E.div,{className:"rounded-3xl border border-slate-200 overflow-hidden shadow-lg",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:1.2},children:(null==l?void 0:l.location)?(0,s.jsx)(ei,{location:l.location,zoom:5.5,className:"w-full"}):n?(0,s.jsx)("img",{src:n,alt:"Trip map",className:"w-full object-cover max-h-[420px]"}):(0,s.jsx)("div",{className:"w-full flex flex-col items-center justify-center bg-[#f1f6f4] text-[#4d6b73] min-h-[260px]",children:o?"Loading map…":"Map preview not available"})})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"shadow-sm mb-[45px] p-[3%]",style:{backgroundColor:"rgb(176, 194, 155)",color:"rgb(64, 97, 112)"},children:(0,s.jsx)("h3",{className:"font-bold uppercase text-center text-[35px] tracking-[0.05em]",children:"\uD83D\uDDD3️ Daily Itinerary"})}),b?(0,s.jsx)("div",{className:"space-y-4",children:h.map((e,t)=>{var a,r,l,n,o;let c=null!==(a=e.evening)&&void 0!==a?a:e.evenning,d=null!==(r=e.day)&&void 0!==r?r:t+1,u=e.title||e.dayTitle||e.date||"",m=u?"Day ".concat(d,": ").concat(u):"Day ".concat(d),p=e.summary||e.description||"",x="string"==typeof e.signatureHighlight?e.signatureHighlight:"string"==typeof e.highlight?e.highlight:void 0,h=null!==(n=null!==(l=e.dining)&&void 0!==l?l:e.meals)&&void 0!==n?n:e.diningOptions;return(0,s.jsxs)(i.E.div,{className:"max-w-4xl mx-auto shadow-sm rounded-b-2xl mb-[20px]",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:1.4+.2*t},children:[(0,s.jsx)("div",{className:"grid grid-cols-1 rounded-t-2xl",style:{backgroundColor:"#406170",color:"#ffffff"},children:(0,s.jsxs)("div",{className:"flex flex-wrap items-baseline gap-3 pr-6 pl-14 py-4",children:[(0,s.jsx)("h4",{className:"font-bold text-[21px]",children:m}),p&&(0,s.jsx)("p",{className:"font-bold text-[21px] text-white/80",children:p}),e.date&&!u&&(0,s.jsx)("span",{className:"text-sm text-white/70",children:e.date})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-5 bg-white rounded-[36px] p-6 border-[3px] border-gray-200",children:[eh("Morning",e.morning,"\uD83C\uDF05"),eh("Afternoon",e.afternoon,"☀️"),eh("Evening",c,"\uD83C\uDF19"),ep(h),eh("Transportation",e.transportation,"\uD83D\uDE97"),x&&(0,s.jsxs)("div",{className:"p-5 rounded-2xl bg-gradient-to-r from-[#f9dd8b]/60 to-[#f2a65a]/60 text-[#4d3217]",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"✨ Signature highlight"}),(0,s.jsx)("p",{className:"whitespace-pre-line",children:x})]})]})]},"".concat(null!==(o=e.day)&&void 0!==o?o:t))})}):(0,s.jsx)("p",{className:"text-center text-slate-500",children:"Daily itinerary details are not available yet."})]}),r.travelTips&&r.travelTips.length>0&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"border border-slate-100 shadow-sm p-6 text-center mt-[45px] text-[35px]",style:{backgroundColor:"rgb(176, 194, 155)",color:"rgb(64, 97, 112)"},children:(0,s.jsx)("h3",{className:"font-bold uppercase tracking-widest mb-4 text-[35px]",children:"\uD83D\uDCA1 Tips for Your Trip"})}),(0,s.jsxs)("div",{className:"text-center text-sm font-semibold uppercase tracking-[0.2em] text-[#406170]",children:["Tailored for ",m," using your travel preferences"]}),(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mt-6 space-y-6 rounded-2xl bg-[#ece8de] border-y-[10px] border-[#d1d5db]",children:r.travelTips.map((e,t)=>{var a;return(0,s.jsxs)("article",{className:"space-y-2 py-4",children:[e.title&&(0,s.jsx)("h4",{className:"text-base font-semibold text-slate-900",children:e.title}),e.description&&(0,s.jsx)("p",{className:"text-sm text-slate-600 leading-snug",children:e.description})]},"".concat(null!==(a=e.title)&&void 0!==a?a:t))})})]}),(r.keyTakeaways||r.nextSteps)&&(0,s.jsxs)("div",{className:"space-y-8 mt-[45px]",children:[(0,s.jsx)("div",{className:"border border-slate-100 shadow-sm p-6 text-center text-[35px]",style:{backgroundColor:"rgb(176, 194, 155)",color:"rgb(64, 97, 112)"},children:(0,s.jsx)("h3",{className:"font-bold uppercase tracking-widest mb-4 text-[35px]",children:"❓ What do you want to do next?"})}),(0,s.jsx)("div",{className:"max-w-4xl mx-auto space-y-6 px-4 sm:px-6 lg:px-8",children:r.nextSteps&&(0,s.jsxs)("section",{className:"rounded-2xl bg-white shadow-md border border-slate-200 p-6",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Next steps"}),ec(r.nextSteps)]})})]}),(0,s.jsx)(i.E.div,{className:"rounded-2xl p-8 my-[10px] max-w-6xl mx-auto mt-10 mb-16",style:{backgroundColor:"#406170"},initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:2},children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-3 justify-start flex-wrap",children:[(0,s.jsxs)(i.E.button,{type:"button",onClick:c,className:"flex items-center gap-3 px-5 py-3 rounded-lg transition-all hover:scale-105 flex-1",style:{backgroundColor:"#f9dd8b",color:"#406170",fontWeight:700,border:"none",minWidth:"fit-content"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)("span",{children:"\uD83D\uDD00"}),(0,s.jsx)("span",{children:"MAKE CHANGES TO MY ITINERARY"})]}),(0,s.jsxs)(i.E.button,{type:"button",onClick:()=>{null==d||d()},className:"flex items-center gap-3 px-5 py-3 rounded-lg transition-all hover:scale-105 flex-1",style:{backgroundColor:"#e2a2d2",color:"#406170",fontWeight:700,border:"none",minWidth:"fit-content"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)("span",{children:"⬇️"}),(0,s.jsx)("span",{children:"EXPORT IT AS A PDF"})]}),(0,s.jsxs)(i.E.button,{type:"button",onClick:()=>{null==u||u()},className:"flex items-center gap-3 px-5 py-3 rounded-lg transition-all hover:scale-105 flex-1",style:{backgroundColor:"#96a4f2",color:"#406170",fontWeight:700,border:"none",minWidth:"fit-content"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)("span",{children:"\uD83D\uDCE7"}),(0,s.jsx)("span",{children:"EMAIL IT"})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-start flex-wrap",children:[(0,s.jsxs)(i.E.button,{type:"button",className:"flex items-center gap-3 px-5 py-3 rounded-lg transition-all hover:scale-105 flex-1",style:{backgroundColor:"#f68854",color:"#406170",fontWeight:700,border:"none",minWidth:"fit-content"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)("span",{children:"\uD83D\uDD17"}),(0,s.jsx)("span",{children:"SHARE VIA LINK"})]}),(0,s.jsxs)(i.E.button,{type:"button",className:"flex items-center gap-3 px-5 py-3 rounded-lg transition-all hover:scale-105 flex-1",style:{backgroundColor:"#b0c29b",color:"#406170",fontWeight:700,border:"none",minWidth:"fit-content"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,s.jsx)("span",{className:"whitespace-normal text-left",children:"LET HYLO PLAN AND BOOK EVERYTHING FOR ME WITH HYLO CONCIERGE"})]})]})]})})]})};let ey=["✈️","\uD83C\uDFDD️","\uD83D\uDDFA️","\uD83D\uDE97","\uD83D\uDEF3️","\uD83C\uDF92","\uD83C\uDFE8","\uD83D\uDE86","\uD83D\uDE8C","\uD83C\uDF0D"],ef=e=>({x:[0,400,1200],rotateY:[90,0,-90]}),eg=()=>({location:"",departDate:"",returnDate:"",flexibleDates:!1,adults:2,children:0,childrenAges:[],budget:5e3,currency:"USD",flexibleBudget:!1,budgetMode:"total",travelStyleChoice:"not-selected",travelStyleAnswers:{},tripNickname:"",contactName:"",contactEmail:"",selectedGroups:[],selectedInterests:[],selectedInclusions:[],customGroupText:"",customInterestsText:"",customInclusionsText:"",inclusionPreferences:{},contactInfo:{name:"",email:"",subscribe:!0}});var ev=function(){var e;let[t,a]=(0,n.useState)(()=>eg()),[r,o]=(0,n.useState)(l.NOT_SELECTED),[c,d]=(0,n.useState)(0),[u,m]=(0,n.useState)(null),[p,x]=(0,n.useState)(null),[h,b]=(0,n.useState)(null),[y,f]=(0,n.useState)(null),[g,v]=(0,n.useState)(null),[j,w]=(0,n.useState)(null),[D,N]=(0,n.useState)(null),[k,C]=(0,n.useState)(!1),[E,S]=(0,n.useState)(!1),I=(0,n.useRef)(null),T=(0,n.useRef)(null),A=(0,n.useRef)(null),F=(0,n.useRef)(0);(0,n.useEffect)(()=>{let e=setInterval(async()=>{try{let e=await fetch("/api/logs"),t=await e.json();t.success&&t.logs.length>c&&(t.logs.slice(c).forEach(e=>{console.log("[SERVER] Step ".concat(e.stepNumber,": ").concat(e.action," in ").concat(e.fileName," - ").concat(e.functionName),e)}),d(t.logs.length))}catch(e){console.error("[CLIENT] Failed to fetch server logs:",e)}},2e3);return()=>clearInterval(e)},[c]),(0,n.useEffect)(()=>()=>{T.current&&(clearTimeout(T.current),T.current=null)},[]);let R=()=>{T.current&&(clearTimeout(T.current),T.current=null)},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;A.current===e&&(R(),T.current=setTimeout(()=>O(e),t))},P=async()=>{console.log("Generating itinerary with data:",t),R(),A.current=null,F.current=0,C(!0),S(!0),x(null),w(null),b(null),v(null),f(null),m(t),setTimeout(()=>{var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100);try{let e=await fetch("/api/itinerary/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formData:t,sessionId:"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),options:{}})}),a=await e.json();a.success?(console.log("✅ Itinerary generation started successfully!",a),N(a.workflowId),A.current=a.workflowId,F.current=0,O(a.workflowId)):(console.error("❌ Itinerary generation failed:",a),alert("Failed to start itinerary generation. Please try again."),C(!1))}catch(e){console.error("\uD83D\uDCA5 Error calling itinerary API:",e),alert("An error occurred while starting itinerary generation. Please try again."),C(!1)}},O=async e=>{if(e&&A.current===e)try{let a=await fetch("/api/itinerary/status/".concat(e)),r=await a.json().catch(()=>({}));if(console.log("Status check:",r),!a.ok){if(404===a.status){F.current+=1,console.log("Workflow ".concat(e," not found (attempt ").concat(F.current,"). Continuing to poll...")),M(e);return}let t=(null==r?void 0:r.error)||"Unknown error occurred while checking status.";console.error("State check failed:",t),alert("Itinerary state check failed: ".concat(t)),C(!1),N(null),A.current=null,R();return}if(F.current=0,console.log("\uD83C\uDFAF [UI] Status response received:",{status:r.status,progress:r.progress,currentStep:r.currentStep,hasItinerary:!!r.itinerary,itineraryType:typeof r.itinerary,itineraryKeys:r.itinerary?Object.keys(r.itinerary):[],hasRawItinerary:"string"==typeof r.rawItinerary,parseError:r.itineraryParseError||null,fullResponse:r}),r.itineraryParseError&&console.warn("⚠️ [UI] Itinerary parse error reported by API:",r.itineraryParseError),"string"==typeof r.rawItinerary&&w(r.rawItinerary),r.itinerary){var t;console.log("\uD83D\uDCCB [UI] Setting itinerary layout from status response:",{hasIntro:!!r.itinerary.intro,hasDailyPlans:!!r.itinerary.dailyPlans,dailyPlansCount:(null===(t=r.itinerary.dailyPlans)||void 0===t?void 0:t.length)||0,fullItinerary:r.itinerary}),x(r.itinerary),b({generatedAt:r.updatedAt})}else r.rawItinerary&&(console.warn("⚠️ [UI] Parsed itinerary unavailable; relying on raw itinerary string."),x(null));if(r.formData&&m(r.formData),"completed"===r.status){console.log("Workflow completed, stopping polling"),C(!1),f(r.updatedAt),R();return}if("error"===r.status){console.error("Workflow error:",r.error),alert("Itinerary generation failed: ".concat(r.error||"Unknown error")),C(!1),R();return}M(e)}catch(t){console.error("Error checking status:",t),M(e)}},_=()=>{R(),A.current=null,F.current=0,N(null),C(!1),x(null),b(null),f(null),v(null),m(null),w(null),a(eg()),o(l.NOT_SELECTED)};return(0,s.jsxs)("div",{className:"min-h-screen bg-primary py-8 font-raleway",children:[(0,s.jsx)("header",{className:"bg-trip-details text-primary py-4 px-6 shadow-lg w-full px-[20%]",children:(0,s.jsx)("div",{className:"w-[90%] mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,s.jsx)("span",{className:"text-3xl",children:"\uD83C\uDF0F"}),(0,s.jsx)("h1",{className:"text-[35px] font-bold tracking-wide text-primary font-raleway",children:"TRIP DETAILS"})]})})}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mt-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(V,{formData:t,onFormChange:a,showAdditionalForms:!0,validationErrors:{}}),(0,s.jsx)($,{choice:r,onChoiceChange:e=>{console.log("handleTravelStyleChoice called",e),o(e),a(t=>({...t,travelStyleChoice:e===l.DETAILED?"answer-questions":e===l.SKIP?"skip-to-details":"not-selected"}))},formData:t,onFormChange:a,onGenerateItinerary:P,tripNickname:t.tripNickname||(null===(e=t.travelStyleAnswers)||void 0===e?void 0:e.tripNickname)||"",onTripNicknameChange:e=>{a(t=>({...t,tripNickname:e,travelStyleAnswers:{...t.travelStyleAnswers,tripNickname:e}}))},contactInfo:t.contactInfo||{},onContactChange:e=>{a(t=>({...t,contactInfo:{...t.contactInfo,...e},contactName:void 0!==e.name?e.name:t.contactName,contactEmail:void 0!==e.email?e.email:t.contactEmail}))}})]})}),r===l.DETAILED&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-center mb-6 bg-[#f9dd8b] p-6 w-full",children:[(0,s.jsx)("h2",{className:"text-[35px] font-bold text-primary font-raleway mb-2",children:"\uD83C\uDF0F Travel Style"}),(0,s.jsx)("p",{className:"text-primary font-bold font-raleway text-[27px]",children:"Answer with this group and trip in mind."})]}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 mt-6 pb-3",children:[(0,s.jsx)(et,{formData:t,onFormChange:a,validationErrors:{}}),(0,s.jsx)("div",{className:"pt-6",style:{paddingBottom:"2.5rem"},children:(0,s.jsxs)("button",{type:"button",onClick:P,className:"w-full px-12 rounded-[36px] font-bold font-raleway text-[32px] bg-[#f68854] text-primary transition-all duration-300 transform hover:scale-105 relative group whitespace-nowrap flex items-center justify-center py-2 border-0",children:["GENERATE MY PERSONALIZED ITINERARY ✨",(0,s.jsx)("div",{className:"absolute inset-0 rounded-[36px] bg-gradient-to-r from-yellow-400/20 via-pink-500/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]})})]})]}),(E||k||p)&&(0,s.jsx)("div",{ref:I,className:"w-full px-8 relative mt-[45px]",style:{backgroundColor:"#b0c29c"},children:(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center relative z-10",style:{borderBottom:"8px"},children:[ey.map((e,t)=>(0,s.jsx)(i.E.div,{className:"absolute text-4xl pointer-events-none z-20",style:{left:"-100px",top:"50%",transform:"translateY(-50%)"},initial:{opacity:0,scale:0},animate:{opacity:[0,1,1,0],scale:[0,1,1,0],...ef(t)},transition:{duration:6,delay:1.5*t,repeat:1/0,repeatDelay:(ey.length-1)*1.5,ease:"easeInOut"},children:e},"".concat(e,"-").concat(t))),(0,s.jsx)("div",{className:"text-[6rem] mr-8 leading-none",children:"\uD83C\uDFE8"}),(0,s.jsx)("div",{className:"relative",style:{paddingBottom:"0.6rem"},children:(0,s.jsx)("div",{className:"text-center relative",style:{color:"#43636f"},children:(0,s.jsxs)("span",{className:"block py-4 text-[4.5rem] font-bold leading-none",children:[(0,s.jsx)("span",{className:"text-[2.5rem] font-semibold uppercase",children:"analyzing to create your"}),(0,s.jsx)("br",{}),"BEST TRIP EVER!",(0,s.jsx)("span",{className:"text-[1.6rem] mt-2 block",children:"Thanks for your patience"})]})})})]})})}),(p||j)&&(0,s.jsxs)(i.E.div,{className:"w-full relative",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(console.log("Page: Rendering itinerary display section"),console.log("Page: itineraryLayout exists:",!!p),console.log("Page: rawItinerary exists:",!!j),null),p?(0,s.jsx)(eb,{layout:p,formData:null!=u?u:t,mapImageUrl:g,isLoading:k,layoutMetadata:h,lastUpdated:y,onStartOver:_}):j?(0,s.jsxs)(i.E.div,{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Your AI-Generated Itinerary"}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:j})}),(0,s.jsx)("div",{className:"mt-6 flex gap-4",children:(0,s.jsx)("button",{onClick:_,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Over"})})]}):null]})]})}}},function(e){e.O(0,[641,212,182,971,117,744],function(){return e(e.s=358)}),_N_E=e.O()}]);